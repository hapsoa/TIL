# 제어유니트(Control Unit, 제어장치)

CPU 에서, 혹은 관제센터 같은 곳에서

제어 유니트의 기능
- 명령어 코드의 해독
- 명령어 실행에 필요한 제어 신호들의 발생

마이크로명령어(micro-instruction) : 명령어 사이클의 각 주기에서 실행되는 마이크로-연산들에 대응되는 비트들로 이루어진 단어로서, 제어 단어(control word)라고도 함

마이크로프로그램(microprogram) : 마이크로명령어들의 집합

루틴(routine)
- CPU의 특정 기능을 수행하기 위한 마이크론명령어들의 그룹

# 제어 유니트의 구조

## 구성요소들
명령어 해독기(instruction decoder) : 명령어 레지스터(IR)로부터 들어오는 명령어의 연산 코드를 해독하여 해당 연산을 수행하기 위한 루틴의 시작 주소를 결정

제어 주소 레지스터(control address register: CAR) : 다음에 실행할 마이크로명령어의 주소를 저장하는 레지스터 -> 이 주소는 제어 기억장치들의 특정 위치를 지칭

제어 기억장치(control memory) : 마이크로명령어들로 이루어진 마이크로프로그램을 저장하는 내부 기억장치

제어 버퍼 레지스터(control buffer register: CBR) : 제어 기억장치로부터 읽혀진 마이크로명령어 비트들을 일시적으로 저장하는 레지스터

서브루틴 레지스터(subroutine register: SBR) : 마이크로프로그램에서 서브루틴이 호출되는 경우에 현재의 CAR 내용을 일시적으로 저장하는 레지스터

순서제어 모듈(sequencing module) : 마이크로명령어의 실행 순서를 결정하는 회로들의 집합

## CPU의 명령어 세트 설계 과정
1. 명령어들의 종류와 비트 패턴 정의
2. 명령어들의 실행에 필요한 하드웨어 설계
3. 각 명령어를 위한 시랭 사이클 루틴 작성(마이크로프로그래밍)
4. 마이크로프로그램 코드들을 제어 기억장치에 저장

## 명령어 해독
명령어의 연산 코드가 지정하는 연산을 위한 실행 사이클 루틴의 시작 주소를 결정하는 동작


# 요약 정리

제어 유니트의 기능
- 명령어 코드의 해독
- 명령어 실행에 필요한 제어 신호(op code)들의 발생

마이크로명령어(micro-instruction) : 명령어 사이클의 각 주기에서 실행되는 마이크로-연산들에 대응되는 비트들로 이루어진 단어로서, 제어 단어(control word)라고도 함

마이크로명령어의 형식
- 여러 개의 필드로 구성. 

아마 하나의 명령어들을 마이크로 명령어들의 조합으로 이루어진다는 것을 표현하고자 한 듯 하다.


# 마이크로프로그래밍

# 마이크로프로그램의 순서제어

순서제어(sequencing) : 다음에 실행할 마이크로명령어의 주소 결정

CAR의 초기값 = 0
인출 사이클 루틴의 첫 번째 마이크로명령어의 주소

MUX1 : 다음에 실행할 마이크로명령어의 주소 선택
MUX2 : 조건 플래그를 선택하여 주소선택 회로로 전송

## 마이크로 프로그래밍

수직적 마이크로프로그래밍

수평적 마이크로프로그래밍